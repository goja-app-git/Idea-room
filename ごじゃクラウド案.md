了解。
**これはそのままアプリ開発チームに共有できる「思想＋仕様まとめ」**として書く。
実装指示ではなく、**何を作るか／何を作らないか**が一目で分かる構成にする。

---

# ごじゃクラウド

**私設アルバムアプリ＋LINEトーク延命機能 仕様整理（設計共有用）**

---

## 1. 目的と思想（最重要）

### 1.1 何を解決したいか

* LINEアルバムは

  * 画質が落ちる
  * 動画保存に制限・課金がある
  * 撮影日時・位置情報が信用できない
* LINEトークのメディアは

  * 保存期間があり、消える

👉
**「写真・動画が消える／劣化する」こと自体が問題**

---

### 1.2 ごじゃクラウドの役割

* 写真・動画を **原本のまま保存**
* 誰が撮って投稿したかが分かる
* 撮影日時・位置情報を活かす
* 友人間だけで使う（商用・不特定多数向けではない）

---

### 1.3 思想の核（重要）

* **トークは揮発していい**
* **記録は壊れてはいけない**
* 便利さより「意味を壊さないこと」を優先
* 制約は欠点ではなく価値

---

## 2. システム全体像

![Image](https://www.researchgate.net/publication/328545657/figure/fig1/AS%3A686188855840768%401540611580273/Private-cloud-architecture.png)

![Image](https://miro.medium.com/1%2A_Z64lmmKNrxR7Zyvr-3I6A.jpeg)

![Image](https://svg.template.creately.com/gsatvfxr)

### 2.1 構成

* サーバー：自宅（Raspberry Pi + HDD 8TB）
* 接続：自宅WiFi＋VPN（Tailscale等）
* クライアント：スマホアプリ（iOS / Android）

---

### 2.2 機能の大分類

1. **アルバム機能（本体）**
2. **LINEトーク延命庫（補助機能）**

※ この2つは
**UIは共通だが、意味・寿命・扱いは完全に別**

---

## 3. アルバム機能（ごじゃクラウドの本体）

### 3.1 アルバムとは

* イベント単位（例：2025_雪山、旅行、フェス）
* 写真・動画を混在保存
* 原本主義（圧縮・再エンコードしない）

---

### 3.2 保存する情報

* 投稿者（撮影してアップロードした人）
* 撮影日時（EXIF優先）
* 撮影位置（EXIFがあれば）
* ファイル本体（写真・動画）

※

* 「写っている人」は一切扱わない
* 顔認識・タグ付けなし

---

### 3.3 扱わないもの（明確な非機能）

* コメント
* いいね
* AI分類
* 顔認識
* SNS共有
* 無制限拡張

👉
**記録は残すが、人間関係を管理しない**

---

## 4. ホーム画面UI設計

### 4.1 ホーム画面 = 地図

* アプリ起動時、最初に表示されるのは地図
* 初期表示範囲：**日本全体**
* 写真・動画がある地点にピン表示

#### ピン仕様

* 位置情報単位でまとめる
* 同一地点に複数写真があればクラスタ表示
* タップでその地点の写真・動画一覧

---

### 4.2 下スクロールでアルバム一覧

* 地図画面を下にスワイプ
* アルバム一覧が出現

#### アルバム一覧UI

* サムネイル
* アルバム名
* 日付範囲
* 枚数（写真＋動画）

#### アルバム操作

* 「…」メニューから名前変更
* よくある一般的UIを踏襲

---

### 4.3 サイドパネル（ハンバーガーメニュー）

開くと以下のみ表示：

1. **新規アルバム作成**
2. **LINE延命庫**

👉
メニューは増やさない
**迷わせない**

---

## 5. 写真・動画の操作

### 5.1 表示

* 写真：全画面表示
* 動画：そのまま再生

---

### 5.2 ダウンロード（必須）

* 常にダウンロードボタンあり
* 端末標準挙動：

  * スマホ → 写真アプリ
  * PC → ダウンロードフォルダ

#### ダウンロード時のファイル名

```
投稿者_YYYY-MM-DD_HH-MM-SS.ext
```

例：

* kazuki_2025-02-16_14-32-10.jpg
* tanaharu_2025-02-16_14-35-00.mp4

---

### 5.3 拡張子対応

* 原則「拒否しない」
* 表示できなくてもDLできればOK

---

## 6. ゴミ箱機能（アルバム用）

* 削除時は即削除しない
* ゴミ箱へ移動
* 一定期間後に完全削除
* 原則：投稿者のみ復元可

👉
**事故防止用**

---

## 7. LINEトーク延命庫（補助機能）

### 7.1 位置づけ（超重要）

* アルバム機能とは**完全に別**
* 目的はただ一つ：

> **LINEトーク内メディアの保存期限を延命する**

---

### 7.2 LINE延命庫の前提

* LINEに貼られた時点で：

  * EXIFは消えている
  * 撮影日時・位置情報は信用できない
* よって：

  * それらは **最初から扱わない**

---

### 7.3 保存対象

* LINEトークに送信された：

  * 画像
  * 動画
* これから先の投稿のみ（過去ログ不可）

---

### 7.4 保存する情報

* LINE送信者
* 取得日時（サーバーが拾った時刻）
* ファイル本体（圧縮済みでOK）

---

### 7.5 UI

* 見た目はアルバムと同一
* 地図表示はしない
* 取得日時順のみ

---

### 7.6 容量ルール

* 上限：**1TB**
* 超過時：

  * 古いものから自動削除
* ゴミ箱なし（延命庫は保険領域）

---

## 8. LINE公式Botの役割

### 8.1 立ち位置

* 本体ではない
* あくまで **補助・おまけ**

---

### 8.2 やること

* グループに参加
* 新しく送信された画像・動画を取得
* 延命庫に保存

---

### 8.3 やらないこと

* トーク内容の解析
* 会話ログ保存
* 自動返信
* 存在感のある発言

👉
**黙って拾うロボ**

---

## 9. 全体思想のまとめ（チーム共有用）

### 重要な前提

* このアプリは「友人前提」
* 不特定多数・商用を想定しない
* 制約は価値

---

### 一文での定義（使っていい）

> **ごじゃクラウドは
> 写真と動画を
> 「消えない」「壊れない」形で
> 友人間に残すための私設アルバムアプリ。**

---

## 10. 開発時に迷ったら立ち返る問い

* それは
  **人間関係を軽くするか？**
* それは
  **記録の意味を壊さないか？**
* それは
  **LINEやSNSっぽくなっていないか？**

YESが1つでもあれば、入れない。

---

以上。
このまま **Notion / Google Docs / README** に貼って共有して問題ない内容になっている。

次に必要なら：

* 画面遷移図（1枚）
* 機能ON/OFF判断リスト
* MVP（v0.1）切り出し

どれ行くかだけ言ってくれ。
